<div class="container">
  <h2><%= t "mydevise.registrations.edit.edit" %></h2>

  <%= bootstrap_form_for(resource, as: resource_name, url: registration_path(resource_name), html: {method: :put}) do |f| %>
      <%= devise_error_messages! %>

      <div class="form-group"><%= f.label :first_name %><br/>
        <%= f.text_field :first_name, autofocus: true, hide_label: true , inline: true %></div>

      <div class="form-group"><%= f.label :last_name %><br/>
        <%= f.text_field :last_name, autofocus: true, hide_label: true , inline: true %></div>

      <div class="form-group"><%= f.label :email %><br/>
        <%= f.email_field :email, autofocus: true, hide_label: true , inline: true %></div>

      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div><%= t("mydevise.registrations.edit.awaiting", :var => resource.unconfirmed_email)%>
          <%# resource.unconfirmed_email %></div>
      <% end %>

      <div class="field">
        <%= f.time_zone_select :timezone %>
      </div>

      <%= f.fields_for :reward do |reward_form| %>
          <%= reward_form.check_box_without_bootstrap :rewards_enabled %>
          <%= reward_form.label t("mydevise.registration.edit.rewards") %>
      <% end %>

      <div class="form-group"><%= f.label :password %> <i><%= t "mydevise.registrations.edit.blank" %></i><br/>
        <%= f.password_field :password, autocomplete: "off", hide_label: true , inline: true %></div>

      <div class="form-group"><%= f.label :password_confirmation %><br/>
        <%= f.password_field :password_confirmation, autocomplete: "off", hide_label: true , inline: true %></div>

      <div class="form-group"><%= f.label :current_password %>
        <i><%= t "mydevise.registrations.edit.needpw" %></i><br/>
        <%= f.password_field :current_password, autocomplete: "off", hide_label: true , inline: true %></div>

      <% # if can? :assign_roles, @user  %>
      <% if user_signed_in? && (current_user.is? :superuser) %>
          <div class="form-group">
            <% for role in User::ROLES %>
                <%= check_box_tag "user[roles][#{role}]", role, @user.roles.include?(role), {:name => "user[roles][]"} %>
                <%= label_tag "user_roles_#{role}", role.humanize %><br/>
            <% end %>
            <%= hidden_field_tag "user[roles][]", "" %>
          </div>
      <% end %>
      <div class="actions"><%= f.submit "Update", class: "btn btn-primary" %></div>
  <% end %>

  <br><h3><%= t "repeat.cancel" %></h3>

  <p><%= button_to t("repeat.cancel"), registration_path(resource_name), data: {confirm: t("repeat.sure")}, method: :delete, class: "btn btn-danger" %></p>

  <%= link_to t("menu.back"), :back %>
</div>